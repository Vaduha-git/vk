(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(e,t,n){},5:function(e,t,n){e.exports=n(6)},6:function(e,t,n){"use strict";n.r(t);var m,a,s,o=n(0),i=n.n(o),l=(n(2),n(9),n(4),n(18),n(1)),c=n.n(l),d="https://cors-anywhere.herokuapp.com/";function x(e,t,n,o,l){var d=this,x="";for(var p in n){x+='<input id="in'+(h=p-0+1)+e+'" type = "text" class = "ctr_inp">'}document.getElementById("root").innerHTML="<div class = 'mem' ><input id=\"back"+e+'" type = "submit" value="\u041d\u0430\u0437\u0430\u0434" class = "ctr_inp">'+x+'<canvas id="cvs'+e+'" class = "cvs"></canvas>\n    <input id="dvl'+e+'" type = "submit" value="\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c" class = "ctr_inp"></div> "';var u=document.getElementById("cvs"+e),y=u.getContext("2d"),F=new Image;F.src=t,F.onload=function(){for(var e in u.height=F.height,u.width=F.width,y.drawImage(F,0,0),n)y.font="bold  "+l+"px Verdana",y.fillStyle=o,y.textAlign="center",y.fillText(n[e].text,n[e].x,n[e].y)},this.write=function(e){for(var t in y.clearRect(0,0,u.width,u.height),y.drawImage(F,0,0),n){var m=e[t].value,a=m.length;if(a<=n[t].max_size)y.font="bold  "+l+"px Verdana",y.fillStyle=o,y.textAlign="center",y.fillText(e[t].value,n[t].x,n[t].y);else for(var s=a/n[t].max_size,i=m.split(" "),c=i.length,d=0,x=0;x<s;x++){for(var p="",r=0;r<c/s;r++)void 0!=i[d]&&(p+=i[d]+" "),d++;y.font="bold  "+l+"px Verdana",y.fillStyle=o,y.textAlign="center",y.fillText(p,n[t].x,n[t].y+l*x)}}};var g=[];for(var p in n){var h=p-0+1;g[p]=document.getElementById("in"+h+e),g[p].value=n[p].text,g[p].oninput=function(){d.write(g)}}document.getElementById("dvl"+e).onclick=function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a=u,s=F,c.a.send("VKWebAppCallAPIMethod",{method:"photos.getWallUploadServer",request_id:"mem",params:{v:"5.103",access_token:m}});case 3:case"end":return e.stop()}}))},document.getElementById("back"+e).onclick=function(){r()}}function p(e,t,n,m,a){var s;(s=new Image).src=t,s.className="mem_img",s.id="mem_img"+e,document.getElementById("mem_list").append(s),(s=document.getElementById("mem_img"+e)).onclick=function(){new x(e,t,n,m,a)}}function r(){document.getElementById("root").innerHTML="",document.getElementById("root").innerHTML="<div class = 'line_line' > <input type  = 'button' class = 'btn_btn' value = '\u041d\u043e\u0432\u0438\u043d\u043a\u0438' id='kt1'> <input id='kt2' type  = 'button' class = 'btn_btn' value = '\u0418\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0435'>  <input id='kt3' type  = 'button' class = 'btn_btn' value = '\u0411\u0430\u044f\u043d\u044b'> </div>",document.getElementById("kt1").onclick=function(){document.getElementById("kt1").className="btn_select",document.getElementById("kt2").className="btn_btn",document.getElementById("kt3").className="btn_btn",document.getElementById("mem_list").innerHTML="",new p(5,"mem8.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#FFFFFF",50),new p(2,"mem5.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#FFFFFF",50),new p(3,"mem6.jpg",[{text:"Lapotaa",x:350,y:350,max_size:20}],"#FFFFFF",50),new p(1,"mem1.jpg",[{text:"No",x:700,y:100,max_size:7},{text:"Yes",x:700,y:600,max_size:7}],"#000000",50)},document.getElementById("kt2").onclick=function(){document.getElementById("kt1").className="btn_btn",document.getElementById("kt2").className="btn_select",document.getElementById("kt3").className="btn_btn",document.getElementById("mem_list").innerHTML="",new p(4,"mem7.jpg",[{text:"No",x:150,y:60,max_size:7},{text:"Yes",x:150,y:150,max_size:7}],"#000000",10),new p(5,"mem8.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#FFFFFF",50),new p(6,"mem9.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#000000",50),new p(7,"mem10.jpg",[{text:"Oyhh",x:1e3,y:1e3,max_size:20}],"#FFFFFF",100)},document.getElementById("kt3").onclick=function(){document.getElementById("kt1").className="btn_btn",document.getElementById("kt2").className="btn_btn",document.getElementById("kt3").className="btn_select",document.getElementById("mem_list").innerHTML="",new p(2,"mem5.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#FFFFFF",50),new p(3,"mem6.jpg",[{text:"Lapotaa",x:350,y:350,max_size:20}],"#FFFFFF",50),new p(5,"mem8.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#FFFFFF",50),new p(6,"mem9.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#000000",50),new p(7,"mem10.jpg",[{text:"Oyhh",x:1e3,y:1e3,max_size:20}],"#FFFFFF",100)};var e=document.createElement("div");e.className="mem_list",e.id="mem_list",document.getElementById("root").append(e),new p(2,"mem5.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#FFFFFF",50),new p(3,"mem6.jpg",[{text:"Lapotaa",x:350,y:350,max_size:20}],"#FFFFFF",50),new p(1,"mem1.jpg",[{text:"No",x:700,y:100,max_size:7},{text:"Yes",x:700,y:600,max_size:7}],"#000000",50),new p(4,"mem7.jpg",[{text:"No",x:150,y:60,max_size:7},{text:"Yes",x:150,y:150,max_size:7}],"#000000",10),new p(5,"mem8.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#FFFFFF",50),new p(6,"mem9.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#000000",50),new p(7,"mem10.jpg",[{text:"Oyhh",x:1e3,y:1e3,max_size:20}],"#FFFFFF",100)}c.a.subscribe((function(e){var t,n,o,l,c,x,p;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.detail,n=t.type,o=t.data,console.log("\u0442\u0438\u043f: "+n),console.log(10),"VKWebAppAccessTokenReceived"==n&&(m=o.access_token),"VKWebAppCallAPIMethodFailed"==n&&console.log(o.error_data),"VKWebAppCallAPIMethodResult"!=n){r.next=21;break}if(console.log(1),console.log(o),console.log(1),"mem"!=o.request_id){r.next=21;break}return alert(o.response.upload_url),l=o.response.upload_url,c=l.replace("https://",""),alert(c),a.toDataURL(),(x=new FormData).append("photo",s),r.next=19,i.a.awrap(fetch(d+c,{method:"POST",body:x}).then((function(e){e.json()})));case 19:p=r.sent,console.log(p);case 21:console.log(o);case 22:case"end":return r.stop()}}))})),c.a.send("VKWebAppInit",{}),r(),c.a.send("VKWebAppGetAuthToken",{app_id:7245851,scope:"friends,photos"})}},[[5,1,2]]]);
//# sourceMappingURL=main.8712a508.chunk.js.map