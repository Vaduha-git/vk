{"version":3,"sources":["index.js"],"names":["Mem","id","scr","texts","color","btn","i","ii","document","getElementById","innerHTML","canvas","ctx","getContext","img","Image","src","onload","height","width","drawImage","font","fillStyle","textAlign","fillText","text","x","y","this","write","new_texts","clearRect","value","inp","oninput","onclick","filename","e","lnk","createElement","download","href","toDataURL","createEvent","initMouseEvent","window","dispatchEvent","fireEvent","start","load_mem","className","append","connect","send"],"mappings":"6JAAA,kCAOA,SAASA,EAAIC,EAAIC,EAAKC,EAAOC,GAC5B,IAAD,OAGQC,EAAK,GACT,IAAK,IAAIC,KAAKH,EAAO,CAErBE,GAAO,iBADHE,EAAKD,EAAI,EAAI,GACqBL,EAA/B,qCAITO,SAASC,eAAe,QAAQC,UAAY,uCACpBT,EADoB,8EAEzCI,EAFyC,kBAItBJ,EAJsB,kDAKxBA,EALwB,kGAO5C,IAAIU,EAASH,SAASC,eAAe,MAAQR,GACzCW,EAAMD,EAAOE,WAAW,MAExBC,EAAM,IAAIC,MACdD,EAAIE,IAAMd,EACVY,EAAIG,OAAS,WAKX,IAAK,IAAIX,KAJTK,EAAOO,OAASJ,EAAII,OACpBP,EAAOQ,MAAQL,EAAIK,MAEnBP,EAAIQ,UAAUN,EAAI,EAAE,GACNX,EACZS,EAAIS,KAAO,qBACXT,EAAIU,UAAYlB,EAChBQ,EAAIW,UAAY,SAChBX,EAAIY,SAASrB,EAAMG,GAAGmB,KAAMtB,EAAMG,GAAGoB,EAAGvB,EAAMG,GAAGqB,IAIrDC,KAAKC,MAAQ,SAAUC,GAGrB,IAAK,IAAIxB,KAFTM,EAAImB,UAAU,EAAG,EAAGpB,EAAOQ,MAAOR,EAAOO,QACzCN,EAAIQ,UAAUN,EAAI,EAAE,GACNX,EACZS,EAAIS,KAAO,qBACXT,EAAIU,UAAYlB,EAChBQ,EAAIW,UAAY,SAChBX,EAAIY,SAASM,EAAUxB,GAAG0B,MAAO7B,EAAMG,GAAGoB,EAAGvB,EAAMG,GAAGqB,IAK1D,IAAIM,EAAM,GACV,IAAK,IAAI3B,KAAKH,EAAO,CACjB,IAAII,EAAKD,EAAI,EAAI,EACjB2B,EAAI3B,GAAKE,SAASC,eAAe,KAAOF,EAAUN,GAClDgC,EAAI3B,GAAG0B,MAAQ7B,EAAMG,GAAGmB,KACxBQ,EAAI3B,GAAG4B,QAAU,WACf,EAAKL,MAAMI,IAePzB,SAASC,eAAe,MAAQR,GAEtCkC,QAAU,YAWhB,SAAkBxB,EAAQyB,GACxB,IAAuCC,EAAnCC,EAAM9B,SAAS+B,cAAc,KACjCD,EAAIE,SAAWJ,EACfE,EAAIG,KAAO9B,EAAO+B,UAAU,oBACxBlC,SAASmC,cACXN,EAAI7B,SAASmC,YAAY,gBACvBC,eAAe,SAAS,GAAM,EAAMC,OACrB,EAAG,EAAG,EAAG,EAAG,GAAG,GAAO,GAAO,GAC7B,EAAO,EAAG,MAE3BP,EAAIQ,cAAcT,IACTC,EAAIS,WACbT,EAAIS,UAAU,WAtBdP,CAAS7B,EAAQ,gBAGRH,SAASC,eAAe,OAASR,GACvCkC,QAAU,WACba,KAsBJ,SAASC,EAAShD,EAAIC,EAAKC,EAAOC,GAChC,IAQIU,GARAA,EAAM,IAAIC,OACVC,IAAMd,EACVY,EAAIoC,UAAY,UAChBpC,EAAIb,GAAK,UAAYA,EAGrBO,SAASC,eAAe,QAAQ0C,OAAOrC,IAEnCA,EAAON,SAASC,eAAe,UAAYR,IAC3CkC,QAAU,WACZ,IAAInC,EAAIC,EAAIC,EAAKC,EAAOC,IAM5B,SAAS4C,IAEPxC,SAASC,eAAe,QAAQC,UAAY,GAC5C,IAAIuC,EAAS,EAAG,WAAY,CAAC,CAACxB,KAAM,KAAMC,EAAG,IAAKC,EAAE,KAAM,CAACF,KAAM,MAAOC,EAAG,IAAKC,EAAE,MAAO,WACzF,IAAIsB,EAAS,EAAG,WAAY,CAAC,CAACxB,KAAM,OAAQC,EAAG,IAAKC,EAAE,MAAO,WAC7D,IAAIsB,EAAS,EAAG,WAAY,CAAC,CAACxB,KAAM,UAAWC,EAAG,IAAKC,EAAE,MAAO,WAhIlE,OAKAyB,EAAQC,KAAK,WAoIXL,M","file":"static/js/main.0d9e7467.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport connect from '@vkontakte/vk-connect';\n\nconnect.send('7245851'); \n\nfunction Mem(id, scr, texts, color)\n{\n\n\n    var btn =\"\";\n    for (var i in texts) {\n    var ii = i - 0 + 1;\n    btn+=  `<input id=\"in` + (ii) + \"\" + (id) + `\" type = \"text\" class = \"ctr_inp\">`;\n  }\n\n\n  document.getElementById(\"root\").innerHTML = \"<div class = 'mem' >\"\n    + `<input id=\"back` + id + `\" type = \"submit\" value=\"Назад\" class = \"ctr_inp\">`\n   + btn + \n\n      `<canvas id=\"cvs`+id+`\" class = \"cvs\"></canvas>\n      <input id=\"dvl`+id+`\" type = \"submit\" value=\"Скачать\" class = \"ctr_inp\"></div> \"`; \n\n  var canvas = document.getElementById(\"cvs\" + id);\n  var ctx = canvas.getContext('2d');\n\n  var img = new Image();\n  img.src = scr;\n  img.onload = () => {\n    canvas.height = img.height;\n    canvas.width = img.width;\n\n    ctx.drawImage(img,0,0);\n    for (var i in texts) {\n      ctx.font = \"50px Comic Sans MS\";\n      ctx.fillStyle = color;\n      ctx.textAlign = \"center\";\n      ctx.fillText(texts[i].text, texts[i].x, texts[i].y);\n    }   \n  }\n\n  this.write = function (new_texts) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.drawImage(img,0,0);\n    for (var i in texts) {\n      ctx.font = \"50px Comic Sans MS\";\n      ctx.fillStyle = color;\n      ctx.textAlign = \"center\";\n      ctx.fillText(new_texts[i].value, texts[i].x, texts[i].y);\n    }\n  }\n\n\n  var inp = [];\n  for (var i in texts) {\n      var ii = i - 0 + 1;\n      inp[i] = document.getElementById(\"in\" + ii + \"\" + id);\n      inp[i].value = texts[i].text;\n      inp[i].oninput = () =>{\n        this.write(inp);\n      }\n    }\n  //var inp1 = document.getElementById(\"in1\" + id);\n  //var inp2 = document.getElementById(\"in2\" + id);\n/*\n  inp1.oninput = () =>{\n    this.write([inp1.value, inp2.value]);\n  }\n  inp2.oninput = () =>{\n   \n    this.write([inp1.value, inp2.value]);\n  }\n*/\n\n  var dvl = document.getElementById(\"dvl\" + id);\n\n  dvl.onclick = ()=> {\n    download(canvas, 'myimage.png');\n  }\n\n  var back = document.getElementById(\"back\" + id);\n  back.onclick = () =>{\n    start();\n  }\n}\n\n// скаченая непонятная залупа \nfunction download(canvas, filename) {\n  var lnk = document.createElement('a'), e;\n  lnk.download = filename;\n  lnk.href = canvas.toDataURL(\"image/png;base64\");\n  if (document.createEvent) {\n    e = document.createEvent(\"MouseEvents\");\n    e.initMouseEvent(\"click\", true, true, window,\n                     0, 0, 0, 0, 0, false, false, false,\n                     false, 0, null);\n\n    lnk.dispatchEvent(e);\n  } else if (lnk.fireEvent) {\n    lnk.fireEvent(\"onclick\");\n  }\n}\n\n\nfunction load_mem(id, scr, texts, color){\n  var img = new Image();\n  img.src = scr;\n  img.className = \"mem_img\";\n  img.id = \"mem_img\" + id;\n\n\n  document.getElementById(\"root\").append(img);\n\n  var img =  document.getElementById(\"mem_img\" + id);\n  img.onclick = () => {\n    new Mem(id, scr, texts, color);\n  }\n\n}\n\n\nfunction start() {\n\n  document.getElementById(\"root\").innerHTML = \"\";\n  new load_mem(1, \"mem1.jpg\", [{text: \"No\", x: 700, y:100}, {text: \"Yes\", x: 700, y:600}], \"#000000\");\n  new load_mem(2, \"mem5.jpg\", [{text: \"Oyhh\", x: 350, y:350}], \"#FFFFFF\");\n  new load_mem(3, \"mem6.jpg\", [{text: \"Lapotaa\", x: 350, y:350}], \"#FFFFFF\");\n\n}\n\n\n\n\nfunction main()\n{\n  start();\n}\n\nmain();\n"],"sourceRoot":""}