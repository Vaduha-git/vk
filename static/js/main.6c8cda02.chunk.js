(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(e,t,n){},5:function(e,t,n){e.exports=n(6)},6:function(e,t,n){"use strict";n.r(t);var o,a=n(0),i=n.n(a),l=(n(2),n(9),n(4),n(18),n(1)),c=n.n(l);function s(e,t,n,a){var l=this,s="";for(var r in n){s+='<input id="in'+(v=r-0+1)+e+'" type = "text" class = "ctr_inp">'}document.getElementById("root").innerHTML="<div class = 'mem' ><input id=\"back"+e+'" type = "submit" value="\u041d\u0430\u0437\u0430\u0434" class = "ctr_inp">'+s+'<canvas id="cvs'+e+'" class = "cvs"></canvas>\n    <input id="dvl'+e+'" type = "submit" value="\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c" class = "ctr_inp"></div> "';var m=document.getElementById("cvs"+e),p=m.getContext("2d"),u=new Image;u.src=t,u.onload=function(){for(var e in m.height=u.height,m.width=u.width,p.drawImage(u,0,0),n)p.font="bold  50px Verdana",p.fillStyle=a,p.textAlign="center",p.fillText(n[e].text,n[e].x,n[e].y)},this.write=function(e){for(var t in p.clearRect(0,0,m.width,m.height),p.drawImage(u,0,0),n){var o=e[t].value,i=o.length;if(i<=n[t].max_size)p.font="bold  50px Verdana",p.fillStyle=a,p.textAlign="center",p.fillText(e[t].value,n[t].x,n[t].y);else for(var l=i/n[t].max_size,c=o.split(" "),s=c.length,r=0,d=0;d<l;d++){for(var g="",v=0;v<s/l;v++)void 0!=c[r]&&(g+=c[r]+" "),r++;p.font="bold  50px Verdana",p.fillStyle=a,p.textAlign="center",p.fillText(g,n[t].x,n[t].y+40*d)}}};var g=[];for(var r in n){var v=r-0+1;g[r]=document.getElementById("in"+v+e),g[r].value=n[r].text,g[r].oninput=function(){l.write(g)}}document.getElementById("dvl"+e).onclick=function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:m,c.a.send("VKWebAppCallAPIMethod",{method:"photos.getWallUploadServer",request_id:"mem",params:{v:"5.103",access_token:o}});case 2:case"end":return e.stop()}}))},document.getElementById("back"+e).onclick=function(){d()}}function r(e,t,n,o){var a;(a=new Image).src=t,a.className="mem_img",a.id="mem_img"+e,document.getElementById("root").append(a),(a=document.getElementById("mem_img"+e)).onclick=function(){new s(e,t,n,o)}}function d(){document.getElementById("root").innerHTML="",new r(1,"mem1.jpg",[{text:"No",x:700,y:100,max_size:7},{text:"Yes",x:700,y:600,max_size:7}],"#000000"),new r(2,"mem5.jpg",[{text:"Oyhh",x:350,y:350,max_size:20}],"#FFFFFF"),new r(3,"mem6.jpg",[{text:"Lapotaa",x:350,y:350,max_size:20}],"#FFFFFF")}c.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;console.log("\u0442\u0438\u043f: "+n),console.log(10),"VKWebAppAccessTokenReceived"==n&&(o=a.access_token),"VKWebAppCallAPIMethodFailed"==n&&console.log(a.error_data),"VKWebAppCallAPIMethodResult"==n&&(console.log(1),console.log(a),console.log(1),"mem"==a.request_id&&alert(a.response.upload_url)),console.log(a)})),c.a.send("VKWebAppInit",{}),d(),c.a.send("VKWebAppGetAuthToken",{app_id:7245851,scope:"friends,photos"})}},[[5,1,2]]]);
//# sourceMappingURL=main.6c8cda02.chunk.js.map